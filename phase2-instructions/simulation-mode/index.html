<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Developing in Simulation - PARC</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../theme_override.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Developing in Simulation";
    var mkdocs_page_input_path = "phase2-instructions/simulation-mode.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../competition-overview/" class="icon icon-home"> PARC</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../competition-overview/">Competition Overview</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Getting Started Tutorials</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../getting-started/setting-up-your-pc/">Setting up your PC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../getting-started/getting-started-with-ros/understanding-ros/">Getting started with ROS</a>
                </li>
                <li class="">
                    
    <a class="" href="../../getting-started/setting-up-your-workspace/">Setting up your Workspace</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Competition Instruction</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Phase 1: Simulation</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../phase1-instructions/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../phase1-instructions/task1/">Task 1: Sidewalk following</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../phase1-instructions/task2/">Task 2: Traffic sign detection and recognition</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../phase1-instructions/task3/">Task 3: Go-to-goal navigation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../phase1-instructions/how-to-submit/">How to Submit</a>
                </li>
    </ul>
                </li>
                <li class=" current">
                    
    <span class="caption-text">Phase 2: Physical Robot</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../getting-started-simulation/">Getting Started in Simulation</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Developing in Simulation</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#developing_in_simulation">Developing in Simulation</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#task_guidelines">Task Guidelines</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../physical-robot-mode/">Testing on Physical Robot</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../offline-development/">Offline Development and Troubleshooting</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../team-names/">Team Naming Convention</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../submission-info/">What to Submit</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../forum/">Q & A Forum</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../faqs/">Frequently Asked Questions</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../competition-overview/">PARC</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../competition-overview/">Docs</a> &raquo;</li>
    
      
        
          <li>Phase 2: Physical Robot &raquo;</li>
        
      
        
          <li>Competition Instruction &raquo;</li>
        
      
    
    <li>Developing in Simulation</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="developing_in_simulation">Developing in Simulation<a class="headerlink" href="#developing_in_simulation" title="Permanent link">&para;</a></h1>
<p><img alt="task GIF" src="../media/task.gif" /></p>
<p>The goal here is to solve the complete delivery robot navigation task which is a combination of the three tasks completed in Phase 1, namely:</p>
<ul>
<li>Sidewalk following (with obstacle avoidance)</li>
<li>Traffic sign detection and recognition</li>
<li>Go-to-goal navigation (with obstacle avoidance)</li>
</ul>
<p>In this Phase 2, you are required to do the following:</p>
<ul>
<li>Refine your solution to the different tasks to make sure they function as expected</li>
<li>Combine your solutions together into one complete solution that manages the different tasks together in real-time (as shown in image above)</li>
</ul>
<h2 id="task_guidelines">Task Guidelines<a class="headerlink" href="#task_guidelines" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you have completed the <a href="../getting-started-simulation/"><strong>Getting Started in Simulation</strong></a> before starting the task.</p>
</div>
<h5 id="1_launching_the_task">1. Launching the Task<a class="headerlink" href="#1_launching_the_task" title="Permanent link">&para;</a></h5>
<ul>
<li>In a new terminal, run the following launch file to bring up the robot in Gazebo and RViz: <br></li>
</ul>
<pre><code class="shell">roslaunch turtlebot_parc turtlebot_parc.launch
</code></pre>

<ul>
<li>You should see the display below in Gazebo. To the right, there's the robot and to the left is the circular green marker on the wall which represents the <strong>final goal location</strong>.</li>
</ul>
<p><img alt="task overview" src="../media/gazebo.png" /></p>
<ul>
<li>The arrow in the figure below shows the robot in the goal location, facing the circular green marker. The goal is to get as close to the green marker and then stop. The robot camera view is also show below.</li>
</ul>
<p><img alt="goal-position" src="../media/goal-position-sim.png" /></p>
<h5 id="2_explore_multiple_routes">2. Explore Multiple Routes<a class="headerlink" href="#2_explore_multiple_routes" title="Permanent link">&para;</a></h5>
<ul>
<li>We have prepared two pre-defined routes you can use as you develop your solution. The default route is <code>route1</code>, but you can select the second route option (<code>route2</code>) by passing the argument in the <code>roslaunch</code> command as follows:</li>
</ul>
<pre><code class="shell">roslaunch turtlebot_parc turtlebot_parc.launch route:=route2
</code></pre>

<ul>
<li>We recommend you play around with at least these two routes to ensure your solution is robust to different start locations.</li>
</ul>
<h5 id="3_explore_multiple_start_delays">3. Explore Multiple Start Delays<a class="headerlink" href="#3_explore_multiple_start_delays" title="Permanent link">&para;</a></h5>
<ul>
<li>We have provided a simple way to set arbitrary values for the traffic light durations such as <code>red_green_duration</code>, <code>yellow_red_duration</code> and <code>green_yellow_duration</code>. This can be done by passing an argument for any or all of them as follows:</li>
</ul>
<pre><code class="shell">roslaunch turtlebot_parc turtlebot_parc.launch red_green_duration:=10 green_yellow_duration:=8
</code></pre>

<ul>
<li>While developing, we recommend you play around with different values for the traffic light durations to ensure your solution is robust.</li>
</ul>
<h5 id="3_preparing_your_solution">3. Preparing your Solution<a class="headerlink" href="#3_preparing_your_solution" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Consistent with the approach from Phase 1, your solution should be prepared as ROS packages to be saved in your solution folder. Create a launch file in your ROS package which runs ALL the code you need in your solution. Name this launch file: <code>task_solution.launch</code>.</p>
</li>
<li>
<p>Hence, your solution should be run by calling the following commands simulatenously: </p>
</li>
</ul>
<p>In one terminal:</p>
<pre><code class="shell">roslaunch turtlebot_parc turtlebot_parc.launch
</code></pre>

<p>In another terminal:</p>
<pre><code class="shell">roslaunch &lt;your-package-name&gt; task_solution.launch
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ensure you DO NOT provide a solution with hard-coded positions for the robot to move to or hard-coded obstacle positions because in evaluation, the robot initial position and locations of obstacles would be randomized in the field.</p>
</div>
<!-- ## Task Rules and Scoring

- The time-limit to complete this task is **5 minutes (300 secs)**.

- The task is ONLY **complete** when ANY part of the robot is inside the orange-red sphere (goal location marker).

Scoring for this task would be based on the following criteria:

|  S/N | Criteria / Metric    | Description
| ------------- | ----------- | ----------- |
|  1  | Out-of-lane distance    |  Total distance traveled with any part of the robot lying outside the lane (**Smaller is better**)
|  2  | Final travel distance to goal   |  Shortest travel distance from robot (measured from robot center) to the goal which is calculated at the time limit [5 minutes] (**Smaller is better**)
|  3  | Collisions   | Number of times the robot comes in contact with either obstacles, building, or walls (**Smaller is better**).
|  4  | Completion time   |  Time from launching the solution to task completion (**Smaller is better**) -->
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../physical-robot-mode/" class="btn btn-neutral float-right" title="Testing on Physical Robot">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../getting-started-simulation/" class="btn btn-neutral" title="Getting Started in Simulation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../getting-started-simulation/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../physical-robot-mode/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
